{"version":3,"file":"js\\chunks\\creators-lazy.16415c0eebab83057f49.js","mappings":"iTAsBA,EAXkD,EAAGA,YACnD,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,IAAeC,EAAAA,GAMpC,OAAO,gBAAC,KAAD,CAAaL,MAAOA,EAAOM,aAJb,KACnBL,GAASM,EAAAA,EAAAA,IAAcJ,GAAvB,GAGF,ECZF,EAJ4B,IACnB,gBAAC,KAAD,M,2ICQT,MAAM,OAAEK,GAAF,IA6GN,MAxGkD,EAAGC,WACnD,MAAMR,GAAWC,EAAAA,EAAAA,OACVQ,EAAeC,IAAkBC,EAAAA,EAAAA,aAEhCC,EAAGC,IAAOC,EAAAA,EAAAA,MACZ,EAAEF,IAAME,EAAAA,EAAAA,GAAe,YAsBvBC,EACJ,2BAAMC,QARsB,EAAGC,UAC/BR,GAAeS,IACblB,GACEmB,EAAAA,EAAAA,GAAmB,CAAED,GAAIT,EAAcS,GAAIE,MAAOC,EAAAA,EAAAA,QAA2BC,oBAAqBL,IAFtG,GAQE,gCAAWA,IAAKM,EAAAA,EAAAA,yBACbX,EAAG,qBAAoBW,EAAAA,EAAAA,4BAE1B,gCAAWN,IAAKM,EAAAA,EAAAA,iBACbX,EAAG,qBAAoBW,EAAAA,EAAAA,oBAE1B,gCAAWN,IAAKM,EAAAA,EAAAA,mBACbX,EAAG,qBAAoBW,EAAAA,EAAAA,uBAK9B,OACE,2BAASC,UC1DY,gBD2DnB,qBAAgBC,WAAYjB,EAAMkB,OAAO,KAAKC,YAAY,GACxD,gBAACpB,EAAD,CAAQqB,UAAQ,EAACC,MAAOjB,EAAE,sBAAuBkB,UAAU,KAAKb,IAAI,KAAKc,MAAO,QAChF,gBAACxB,EAAD,CACEqB,UAAQ,EACRC,MAAOjB,EAAE,sBACTkB,UAAU,YACVb,IAAI,YACJe,OAASC,GAAcA,GAAapB,EAAG,SAEzC,gBAACN,EAAD,CACEqB,UAAQ,EACRC,MAAOjB,EAAE,+BACTkB,UAAU,qBACVb,IAAI,uBAGN,gBAACV,EAAD,CAAQqB,UAAQ,EAACC,MAAOjB,EAAE,sBAAuBkB,UAAU,mBAAmBb,IAAI,qBAElF,gBAACV,EAAD,CACEwB,MAAO,OACPF,MAAM,GACNZ,IAAI,SACJe,OAASE,GACP,2BAAQV,UClFiC,mBDkFNW,KAAK,OAAOnB,QAAS,KA1DhEN,EA0DsFwB,EAA9E,GACGrB,EAAG,YAKZ,qBACEW,UCzFwE,cD0FxEK,MAAOjB,EAAE,sBACTwB,UAAW3B,EACX4B,SAjEmB,KACvB3B,OAAe4B,EAAf,EAiEIC,OAAQ,MAER,2BACEC,OAAQ,CAAEC,IAAK,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAClDC,KAAK,QACLlB,MAAOjB,EAAE,mCAET,gCAAmBoC,MAAOpC,EAAE,uBAAwBH,GAAeS,IAAML,EAAG,QAC5E,gCAAmBmC,MAAOpC,EAAE,uBAAwBH,GAAewB,WAAapB,EAAG,QACnF,gCAAmBmC,MAAOpC,EAAE,gCACzBH,GAAewC,oBAAsBpC,EAAG,QAE3C,gCAAmBmC,MAAOpC,EAAE,uBACzBH,GAAeyC,kBAAoBrC,EAAG,SAG3C,uBAAKW,UC7GuH,uBD8G1H,2BAAQ2B,KAAM,gBAACC,EAAA,EAAD,MAAyBpC,QA/ElB,KAC3BP,GAAeS,IAAMlB,GAASmB,EAAAA,EAAAA,GAAmB,CAAED,GAAIT,EAAcS,GAAIE,MAAOC,EAAAA,EAAAA,SAAhF,GA+ESR,EAAG,YAEN,kCAAiBwC,QAAStC,GAAOF,EAAG,aAxD5C,EE1CF,MAAMyC,GAAiBC,EAAAA,EAAAA,KACpB/C,GAAS,gBAAC,EAAD,CAAiBA,KAAMA,MACjC,IAAM,mCACN,IAAM,gBAAC,EAAD,QACLT,GAAU,gBAAC,EAAD,CAAiBA,MAAOA,MAyCrC,IC3DA,EDqB0B,KACxB,MAAMC,GAAWC,EAAAA,EAAAA,MACXO,GAAOL,EAAAA,EAAAA,IAAeqD,EAAAA,GACtBtD,GAAeC,EAAAA,EAAAA,IAAeC,EAAAA,IAC9B,EAAEQ,IAAME,EAAAA,EAAAA,GAAe,aACrBF,EAAGC,IAAOC,EAAAA,EAAAA,KAclB,OAZA2C,EAAAA,EAAAA,YAAU,KACRzD,GAASM,EAAAA,EAAAA,IAAcJ,IAEhB,KACLF,GAAS0D,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,OAArB,IAED,CAACzD,EAAcF,IAOhB,gCACE,gBAAC,KAAD,CACE4D,QAAM,EACN/B,MAAOjB,EAAE,SACTiD,QAAS,CACP,iCAAa5C,IAAI,QAAQ6C,MAAO5D,EAAc6D,SAV1BC,IAC1BhE,GAASiE,EAAAA,EAAAA,IAAgBD,EAAEE,OAAOJ,OAAlC,GAUQ,kCAAcA,MAAOzC,EAAAA,EAAAA,SAA4BR,EAAG,YACpD,kCAAciD,MAAOzC,EAAAA,EAAAA,SAA4BR,EAAG,aACpD,kCAAciD,MAAOzC,EAAAA,EAAAA,QAA2BR,EAAG,iBAKxDyC,EAAe9C,GAdpB,C","sources":["webpack://monetize-frontend-admin-panel/./src/features/creators/page/failure.tsx","webpack://monetize-frontend-admin-panel/./src/features/creators/page/loading.tsx","webpack://monetize-frontend-admin-panel/./src/features/creators/page/success.tsx","webpack://monetize-frontend-admin-panel/./src/features/creators/page/index.module.css?b963","webpack://monetize-frontend-admin-panel/./src/features/creators/page/index.tsx","webpack://monetize-frontend-admin-panel/./src/features/creators/index.ts"],"sourcesContent":["import React, { FC } from 'react';\n\nimport { ErrorHolder } from 'core/components';\nimport { ErrorInfo } from 'types';\nimport { fetchCreators } from '../redux/slice';\nimport { selectActiveStatus } from '../redux/selectors';\nimport { useAppDispatch, useAppSelector } from 'store';\n\nexport interface CreatorsFailureProps {\n  error: ErrorInfo;\n}\nconst CreatorsFailure: FC<CreatorsFailureProps> = ({ error }: CreatorsFailureProps) => {\n  const dispatch = useAppDispatch();\n  const activeStatus = useAppSelector(selectActiveStatus);\n\n  const retryRequest = () => {\n    dispatch(fetchCreators(activeStatus));\n  };\n\n  return <ErrorHolder error={error} retryRequest={retryRequest} />;\n};\n\nexport default CreatorsFailure;\n","import { Loader } from 'core/components';\nimport React, { FC } from 'react';\n\nconst CreatorsLoading: FC = () => {\n  return <Loader />;\n};\n\nexport default CreatorsLoading;\n","import { Button, Descriptions, Dropdown, Menu, Modal, Table } from 'antd';\nimport { CheckCircleOutlined } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\nimport React, { FC, useState } from 'react';\n\nimport { useAppDispatch } from 'store';\n\nimport { Creator, CreatorStatusEnum, RejectionReasonCodeEnum } from '../types';\nimport { updateCreatorState } from '../redux/slice';\n\nimport css from './index.module.css';\n\nconst { Column } = Table;\n\ninterface CreatorsSuccessProps {\n  data: Creator[];\n}\nconst CreatorsSuccess: FC<CreatorsSuccessProps> = ({ data }: CreatorsSuccessProps) => {\n  const dispatch = useAppDispatch();\n  const [creatorToView, setMediaToView] = useState<Creator>();\n\n  const { t: dt } = useTranslation();\n  const { t } = useTranslation('creators');\n\n  const handleViewMedia = (creator: Creator) => {\n    setMediaToView(creator);\n  };\n\n  const handleCloseModal = () => {\n    setMediaToView(undefined);\n  };\n\n  const handleApproveCreator = () => {\n    creatorToView?.id && dispatch(updateCreatorState({ id: creatorToView.id, state: CreatorStatusEnum.active }));\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handleRejectMenuClick = ({ key }: any) => {\n    creatorToView?.id &&\n      dispatch(\n        updateCreatorState({ id: creatorToView.id, state: CreatorStatusEnum.deleted, rejectionReasonCode: key })\n      );\n  };\n\n  const menu = (\n    <Menu onClick={handleRejectMenuClick}>\n      <Menu.Item key={RejectionReasonCodeEnum.OWNERSHIP_NOT_CONFIRMED}>\n        {t(`rejection-reasons.${RejectionReasonCodeEnum.OWNERSHIP_NOT_CONFIRMED}`)}\n      </Menu.Item>\n      <Menu.Item key={RejectionReasonCodeEnum.NOT_ENOUGH_SUBS}>\n        {t(`rejection-reasons.${RejectionReasonCodeEnum.NOT_ENOUGH_SUBS}`)}\n      </Menu.Item>\n      <Menu.Item key={RejectionReasonCodeEnum.GEO_NOT_SUPPORTED}>\n        {t(`rejection-reasons.${RejectionReasonCodeEnum.GEO_NOT_SUPPORTED}`)}\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <section className={css.layout}>\n      <Table<Creator> dataSource={data} rowKey=\"id\" pagination={false}>\n        <Column ellipsis title={t('columns.creator-id')} dataIndex=\"id\" key=\"id\" width={'20%'} />\n        <Column\n          ellipsis\n          title={t('columns.brand-name')}\n          dataIndex=\"brandName\"\n          key=\"brandName\"\n          render={(brandName) => brandName || dt('n/a')}\n        />\n        <Column\n          ellipsis\n          title={t('columns.ownership-confirmed')}\n          dataIndex=\"ownershipConfirmed\"\n          key=\"ownershipConfirmed\"\n        />\n\n        <Column ellipsis title={t('columns.subs-count')} dataIndex=\"subscribersCount\" key=\"subscribersCount\" />\n\n        <Column\n          width={'80px'}\n          title=\"\"\n          key=\"action\"\n          render={(record: Creator) => (\n            <Button className={css.viewButton} type=\"link\" onClick={() => handleViewMedia(record)}>\n              {dt('view')}\n            </Button>\n          )}\n        />\n      </Table>\n      <Modal\n        className={css.modal}\n        title={t('review-modal.title')}\n        visible={!!creatorToView}\n        onCancel={handleCloseModal}\n        footer={null}\n      >\n        <Descriptions\n          column={{ xxl: 2, xl: 2, lg: 2, md: 1, sm: 1, xs: 1 }}\n          size=\"small\"\n          title={t('review-modal.description-title')}\n        >\n          <Descriptions.Item label={t('columns.creator-id')}>{creatorToView?.id || dt('n/a')}</Descriptions.Item>\n          <Descriptions.Item label={t('columns.brand-name')}>{creatorToView?.brandName || dt('n/a')}</Descriptions.Item>\n          <Descriptions.Item label={t('columns.ownership-confirmed')}>\n            {creatorToView?.ownershipConfirmed || dt('n/a')}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('columns.subs-count')}>\n            {creatorToView?.subscribersCount || dt('n/a')}\n          </Descriptions.Item>\n        </Descriptions>\n        <div className={css.modalControls}>\n          <Button icon={<CheckCircleOutlined />} onClick={handleApproveCreator}>\n            {dt('approve')}\n          </Button>\n          <Dropdown.Button overlay={menu}>{dt('reject')}</Dropdown.Button>\n        </div>\n      </Modal>\n    </section>\n  );\n};\n\nexport default CreatorsSuccess;\n","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"layout-xNxI9\",\"viewButton\":\"viewButton-sBLUf\",\"modal\":\"modal-pzvJD\",\"image\":\"image-HupPc\",\"modalControls\":\"modalControls-fsewp\"};","import { Radio, RadioChangeEvent } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport React, { FC, useEffect } from 'react';\r\n\r\nimport { Subheader } from 'core/components';\r\nimport { fold, initialized } from 'libs/remote';\r\nimport { useAppDispatch, useAppSelector } from 'store';\r\n\r\nimport { Creator, CreatorStatusEnum } from '../types';\r\nimport { fetchCreators, setActiveStatus, setCreators } from '../redux/slice';\r\nimport { selectActiveStatus, selectData } from '../redux/selectors';\r\n\r\nimport CreatorsFailure from './failure';\r\nimport CreatorsLoading from './loading';\r\nimport CreatorsSuccess from './success';\r\n\r\nconst creatorsFolder = fold<Creator[]>(\r\n  (data) => <CreatorsSuccess data={data} />,\r\n  () => <></>,\r\n  () => <CreatorsLoading />,\r\n  (error) => <CreatorsFailure error={error} />\r\n);\r\n\r\nconst CreatorsIndex: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const data = useAppSelector(selectData);\r\n  const activeStatus = useAppSelector(selectActiveStatus);\r\n  const { t } = useTranslation('creators');\r\n  const { t: dt } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCreators(activeStatus));\r\n\r\n    return () => {\r\n      dispatch(setCreators(initialized()));\r\n    };\r\n  }, [activeStatus, dispatch]);\r\n\r\n  const handleChangeStatus = (e: RadioChangeEvent) => {\r\n    dispatch(setActiveStatus(e.target.value as CreatorStatusEnum));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Subheader\r\n        goBack\r\n        title={t('title')}\r\n        actions={[\r\n          <Radio.Group key=\"radio\" value={activeStatus} onChange={handleChangeStatus}>\r\n            <Radio.Button value={CreatorStatusEnum.created}>{dt('pending')}</Radio.Button>\r\n            <Radio.Button value={CreatorStatusEnum.deleted}>{dt('rejected')}</Radio.Button>\r\n            <Radio.Button value={CreatorStatusEnum.active}>{dt('approved')}</Radio.Button>\r\n          </Radio.Group>,\r\n        ]}\r\n      />\r\n\r\n      {creatorsFolder(data)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatorsIndex;\r\n","import Creators from './page';\n\nexport default Creators;\n"],"names":["error","dispatch","useAppDispatch","activeStatus","useAppSelector","selectActiveStatus","retryRequest","fetchCreators","Column","data","creatorToView","setMediaToView","useState","t","dt","useTranslation","menu","onClick","key","id","updateCreatorState","state","CreatorStatusEnum","rejectionReasonCode","RejectionReasonCodeEnum","className","dataSource","rowKey","pagination","ellipsis","title","dataIndex","width","render","brandName","record","type","visible","onCancel","undefined","footer","column","xxl","xl","lg","md","sm","xs","size","label","ownershipConfirmed","subscribersCount","icon","CheckCircleOutlined","overlay","creatorsFolder","fold","selectData","useEffect","setCreators","initialized","goBack","actions","value","onChange","e","setActiveStatus","target"],"sourceRoot":""}